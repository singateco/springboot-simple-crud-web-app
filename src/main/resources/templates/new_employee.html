<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>직원 관리 시스템: 직원 추가</title>

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
	integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
	crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

<style>
	body {
		font-family: "Noto Sans KR", sans-serif;
	}
</style>

</head>
<body>
	
	<nav class="navbar navbar-expand navbar-dark bg-dark">
	<div class="container">
		<a th:href="@{/}" class="navbar-brand"><i class="bi bi-people-fill" style="font-size: 1.5rem"></i>직원관리시스템</a>
		
		<ul class="navbar-nav">
			<li class="nav-item">
				<a th:href="@{/}" class="nav-link">직원 목록</a>
			</li>
			<li class="nav-item">
				<a th:href = "@{/newEmployeeForm}" class="nav-link active" aria-current="page">직원 추가</a>
			</li>
			<li class="nav-item">
				<a th:href="@{/deptManage}" class="nav-link">부서 관리</a>
			</li>
		</ul>
		
		<div class="navbar-text">2023 김현오</div>
	</div>
	</nav>

	<div class="container my-5">
		<div class="row justify-content-center">
		<div class="col col-lg-6 bg-success p-4 rounded shadow" style="--bs-bg-opacity: .75;">
		
		<h3><i class="bi bi-person-plus"></i> 직원 추가</h3><br>
		
		<form action="#" th:action="@{/saveEmployee}" th:object="${employee}"
			method="POST" autocomplete="off">
			
			<div class="form-floating">
				<input type="text" th:field="*{name}" placeholder="직원 이름"
					class="form-control mb-4 col-4" id="name">
				<label for="name" class="form-label"><i class="bi bi-person-vcard"></i> 직원 이름</label>
			</div>
			
			<div th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
			class="alert alert-danger" role="alert">이름 에러</div>
			
			<div class="col-4">
			<label for="salary" class="form-label"><i class="bi bi-cash-stack"></i> 월 급여</label>
			</div>
			
			<div class="input-group mb-4 col-4">
				<input type="number" min="1" id="salary" th:field="*{salary}"
					class="form-control col-auto">
				<span class="input-group-text">만원</span>
			</div>
			
			<div th:if="${#fields.hasErrors('salary')}" th:errors="*{salary}"
			class="alert alert-danger" role="alert">급여 에러</div>
			
			<label for="dept" class="form-label"><i class="bi bi-building"></i> 부서</label>
			<select th:field="*{dept}" id="dept" class="form-select mb-4 col-4">
				<option value="">부서 선택</option>
				<option th:each="dept : ${deptList}" th:value="${dept.name}" th:text="${dept.name}"></option>
			</select>
			
			<div th:if="${#fields.hasErrors('dept')}" th:errors="*{dept}"
			class="alert alert-danger" role="alert">부서 에러</div>
			
			<div class="form-floating">
				<input type="text" th:field="*{phoneNum}" placeholder="직원 전화번호"
					class="form-control mb-4 col-4" id="phoneNum">
				<label for="phoneNum" class="form-label"><i class="bi bi-phone"></i> 직원 전화번호</label>
			</div>
			
			<div th:if="${#fields.hasErrors('phoneNum')}" th:errors="*{phoneNum}"
			class="alert alert-danger" role="alert">전화번호 에러</div>
			
			<div class="form-floating">
				<input type="text" th:field="*{email}" placeholder="직원 이메일"
					class="form-control mb-4 col-4" id="email">
				<label for="email" class="form-label"><i class="bi bi-envelope"></i> 직원 이메일</label>
			</div>
			
			<div th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
			class="alert alert-danger" role="alert">이메일 에러</div>
			
			<button type="submit" class="btn btn-info col-2">추가</button>
			
		</form>
		</div>
		</div>
	</div>


</body>
</html>